syntax = "proto3";

package types;

option go_package = "github.com/CTU-SematX/SmartCity/types";

// WeatherRequest represents the request parameters for weather queries
message WeatherRequest {
  double lat = 1;
  double lon = 2;
  repeated string exclude = 3;
  string units = 4;
  string lang = 5;
}

// WeatherCityRequest represents the request parameters for current weather by city
message WeatherCityRequest {
  string city = 1 [json_name = "q"];
  string units = 2 [json_name = "units"];
  string lang = 3 [json_name = "lang"];
}

// WeatherCityResponse represents the current weather response by city
message WeatherCityResponse {
  Coord coord = 1;
  repeated WeatherCondition weather = 2;
  string base = 3;
  MainWeather main = 4;
  int32 visibility = 5;
  Wind wind = 6;
  Rain rain = 7;
  Clouds clouds = 8;
  int64 dt = 9;
  Sys sys = 10;
  int32 timezone = 11;
  int64 id = 12;
  string name = 13;
  int32 cod = 14;
}

// Coord represents geographical coordinates
message Coord {
  double lon = 1;
  double lat = 2;
}

// MainWeather represents main weather parameters
message MainWeather {
  double temp = 1;
  double feels_like = 2;
  double temp_min = 3;
  double temp_max = 4;
  int32 pressure = 5;
  int32 humidity = 6;
  int32 sea_level = 7;
  int32 grnd_level = 8;
}

// Wind represents wind information
message Wind {
  double speed = 1;
  int32 deg = 2;
  double gust = 3;
}

// Rain represents rain volume
message Rain {
  double one_h = 1 [json_name = "1h"];  // Rain volume for last 1 hour
  double three_h = 2 [json_name = "3h"];  // Rain volume for last 3 hours
}

// Clouds represents cloudiness
message Clouds {
  int32 all = 1;  // Cloudiness percentage
}

// Sys represents system data
message Sys {
  int32 type = 1;
  int64 id = 2;
  string country = 3;
  int64 sunrise = 4;
  int64 sunset = 5;
}

message WeatherResponse {
  double lat = 1;
  double lon = 2;
  string timezone = 3;
  int32 timezone_offset = 4;
  Current current = 5;
  repeated Minutely minutely = 6;
  repeated Hourly hourly = 7;
  repeated Daily daily = 8;
  repeated Alert alerts = 9;
}

message Current {
  int64 dt = 1;
  int64 sunrise = 2;
  int64 sunset = 3;
  double temp = 4;
  double feels_like = 5;
  int32 pressure = 6;
  int32 humidity = 7;
  double dew_point = 8;
  double uvi = 9;
  int32 clouds = 10;
  int32 visibility = 11;
  double wind_speed = 12;
  int32 wind_deg = 13;
  double wind_gust = 14;
  repeated WeatherCondition weather = 15;
}

message Minutely {
  int64 dt = 1;
  double precipitation = 2;
}

message Hourly {
  int64 dt = 1;
  double temp = 2;
  double feels_like = 3;
  int32 pressure = 4;
  int32 humidity = 5;
  double dew_point = 6;
  double uvi = 7;
  int32 clouds = 8;
  int32 visibility = 9;
  double wind_speed = 10;
  int32 wind_deg = 11;
  double wind_gust = 12;
  repeated WeatherCondition weather = 13;
  double pop = 14; // Probability of precipitation
}

message Daily {
  int64 dt = 1;
  int64 sunrise = 2;
  int64 sunset = 3;
  int64 moonrise = 4;
  int64 moonset = 5;
  double moon_phase = 6;
  string summary = 7;
  Temperature temp = 8;
  FeelsLike feels_like = 9;
  int32 pressure = 10;
  int32 humidity = 11;
  double dew_point = 12;
  double wind_speed = 13;
  int32 wind_deg = 14;
  double wind_gust = 15;
  repeated WeatherCondition weather = 16;
  int32 clouds = 17;
  double pop = 18; // Probability of precipitation
  double rain = 19;
  double uvi = 20;
}

message Temperature {
  double day = 1;
  double min = 2;
  double max = 3;
  double night = 4;
  double eve = 5;
  double morn = 6;
}

message FeelsLike {
  double day = 1;
  double night = 2;
  double eve = 3;
  double morn = 4;
}

message WeatherCondition {
  int32 id = 1;
  string main = 2;
  string description = 3;
  string icon = 4;
}

message Alert {
  string sender_name = 1;
  string event = 2;
  int64 start = 3;
  int64 end = 4;
  string description = 5;
  repeated string tags = 6;
}
