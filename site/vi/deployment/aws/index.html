
<!doctype html>
<html lang="vi" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ctu-sematx.github.io/LegoCity/vi/deployment/aws/">
      
      
        <link rel="prev" href="../vm-docker/">
      
      
        <link rel="next" href="../cloudflare/">
      
      
        
          <link rel="alternate" href="../../../deployment/aws/" hreflang="en">
        
          <link rel="alternate" href="./" hreflang="vi">
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Triển khai AWS - LegoCity Smart City Builder</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Merriweather Sans";--md-code-font:"Red Hat Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trien-khai-aws" class="md-skip">
          Bỏ qua
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Đầu trang">
    <a href="../../" title="LegoCity Smart City Builder" class="md-header__button md-logo" aria-label="LegoCity Smart City Builder" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LegoCity Smart City Builder
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Triển khai AWS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Chọn ngôn ngữ">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../deployment/aws/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="vi" class="md-select__link">
              Tiếng Việt
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Tìm kiếm" placeholder="Tìm kiếm" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Tìm kiếm">
        
        <button type="reset" class="md-search__icon md-icon" title="Xoá" aria-label="Xoá" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/CTU-SematX/LegoCity" title="Xem mã nguồn" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    CTU-SematX/LegoCity
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
  
    
  
  Trang chủ

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about-sematx/" class="md-tabs__link">
          
  
  
  Về SematX

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/" class="md-tabs__link">
          
  
  
  Bắt đầu

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../core-concepts/overview/" class="md-tabs__link">
          
  
  
  Khái niệm cốt lõi

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../installation/" class="md-tabs__link">
          
  
  
  Cài đặt

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user-guide/" class="md-tabs__link">
          
  
  
  Hướng dẫn sử dụng

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../configuration/" class="md-tabs__link">
          
  
  
  Cấu hình

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development/" class="md-tabs__link">
          
  
  
  Phát triển

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ai/overview/" class="md-tabs__link">
          
  
  
  Tích hợp AI (Tùy chọn)

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Triển khai

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/troubleshooting/" class="md-tabs__link">
          
  
  
  Tham khảo

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Thanh điều hướng" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="LegoCity Smart City Builder" class="md-nav__button md-logo" aria-label="LegoCity Smart City Builder" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    LegoCity Smart City Builder
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CTU-SematX/LegoCity" title="Xem mã nguồn" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    CTU-SematX/LegoCity
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trang chủ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Về SematX
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Về SematX
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about-sematx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about-sematx/ecosystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hệ sinh thái
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about-sematx/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Công cụ & Công nghệ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bắt đầu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bắt đầu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Khởi động Server
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Khởi động Server
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/start-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local Docker Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Kết nối Server riêng
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Kết nối Server riêng
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/1-create-account/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tạo tài khoản
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/2-create-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tạo dịch vụ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/3-create-entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tạo Entity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/4-push-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Đẩy dữ liệu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/5-create-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tạo Card
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/bring-your-own-server/6-subscriptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Đăng ký
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Khởi động nhanh
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kiến trúc
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Khái niệm cốt lõi
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Khái niệm cốt lõi
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core-concepts/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core-concepts/orion-nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Orion Nginx Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core-concepts/lego-dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lego Dashboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cài đặt
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cài đặt
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hướng dẫn cài đặt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Thiết lập cục bộ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Thiết lập Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Môi trường phát triển
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hướng dẫn sử dụng
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hướng dẫn sử dụng
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan hướng dẫn
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/data-and-brokers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Làm việc với dữ liệu & Broker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hiểu về Entities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/api-keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Keys & Truy cập
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/sample-update-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Server cập nhật mẫu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cấu hình
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cấu hình
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hướng dẫn cấu hình
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/data-sources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nguồn dữ liệu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/api-keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Keys
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Phát triển
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Phát triển
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hướng dẫn phát triển
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/blocks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tạo Blocks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Viết Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/seed-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dữ liệu mẫu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tích hợp AI (Tùy chọn)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tích hợp AI (Tùy chọn)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nhà cung cấp hỗ trợ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/openrouter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenRouter (Models tùy chỉnh)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/use-cases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trường hợp sử dụng & Best Practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Triển khai
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Triển khai
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tổng quan triển khai
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vm-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Machines & Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Triển khai AWS
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Triển khai AWS
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Mục lục">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Mục lục
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#khi-nao-su-dung-aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        Khi nào sử dụng AWS
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anh-xa-component-aws-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ánh xạ Component → AWS service
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environments-dev-va-prod" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environments: dev và prod
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-images-va-registries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Container images và registries
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-va-vpc-layout" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network và VPC layout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimal-architecture-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Minimal architecture pattern
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-va-secrets-tren-aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration và secrets trên AWS
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-skeleton-first-production-like-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-step skeleton: first production-like deployment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-step skeleton: first production-like deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-vpc-va-networking" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Prepare VPC và networking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-rds-cho-payloadcms" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Create RDS cho PayloadCMS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-create-ecr-repositories-va-push-images" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Create ECR repositories và push images
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-configure-ssm-parameters-cho-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Configure SSM parameters cho configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-create-ecs-cluster-va-task-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Create ECS cluster và task definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-create-va-configure-application-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Create và configure Application Load Balancer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-dns-va-domains" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. DNS và domains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-verify-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Verify data flow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-va-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring và logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backups-va-restoration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backups và restoration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating services
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cost-va-resource-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost và resource considerations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tom-tat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tóm tắt
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloudflare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloudflare
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../coolify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coolify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vận hành & Bảo trì
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tham khảo
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tham khảo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Xử lý sự cố
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Open_Source_Checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Danh sách kiểm tra Open Source
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Mục lục">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Mục lục
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#khi-nao-su-dung-aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        Khi nào sử dụng AWS
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anh-xa-component-aws-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ánh xạ Component → AWS service
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environments-dev-va-prod" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environments: dev và prod
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-images-va-registries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Container images và registries
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-va-vpc-layout" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network và VPC layout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimal-architecture-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Minimal architecture pattern
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-va-secrets-tren-aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration và secrets trên AWS
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-skeleton-first-production-like-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-step skeleton: first production-like deployment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-step skeleton: first production-like deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-vpc-va-networking" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Prepare VPC và networking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-rds-cho-payloadcms" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Create RDS cho PayloadCMS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-create-ecr-repositories-va-push-images" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Create ECR repositories và push images
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-configure-ssm-parameters-cho-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Configure SSM parameters cho configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-create-ecs-cluster-va-task-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Create ECS cluster và task definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-create-va-configure-application-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Create và configure Application Load Balancer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-dns-va-domains" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. DNS và domains
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-verify-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Verify data flow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-va-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring và logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backups-va-restoration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backups và restoration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating services
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cost-va-resource-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost và resource considerations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tom-tat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tóm tắt
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="trien-khai-aws">Triển khai AWS</h1>
<p>Trang này mô tả cách thực tế để triển khai LegoCity trên <strong>AWS</strong> sử dụng các managed services.</p>
<p>Nó tập trung vào:</p>
<ul>
<li>ánh xạ các components của LegoCity tới AWS services,</li>
<li>kiến trúc tối thiểu nhưng thực tế (dev + prod),</li>
<li>các bước cụ thể để có một deployment hoạt động,</li>
<li>maintenance cơ bản: updates, monitoring, backups.</li>
</ul>
<p>Đây không phải là một template Terraform/CloudFormation đầy đủ, nhưng nó nên đủ chi tiết để một engineer quen thuộc với AWS basics có thể implement.</p>
<hr />
<h2 id="khi-nao-su-dung-aws">Khi nào sử dụng AWS</h2>
<p>Deployment dựa trên AWS phù hợp khi:</p>
<ul>
<li>tổ chức đã sử dụng AWS,</li>
<li>yêu cầu uptime và scalability cao hơn "một VM với Docker",</li>
<li>ưu tiên managed databases và monitoring hơn self-hosted.</li>
</ul>
<p>Có thể là overkill khi:</p>
<ul>
<li>bạn chỉ cần một prototype ngắn hạn,</li>
<li>bạn không có quyền truy cập AWS account hoặc AWS skills cơ bản.</li>
</ul>
<hr />
<h2 id="anh-xa-component-aws-service">Ánh xạ Component → AWS service</h2>
<p>Ánh xạ điển hình từ các components của LegoCity tới AWS như sau:</p>
<ul>
<li>
<p><strong>Context broker</strong></p>
</li>
<li>
<p>Chạy như một container trên:</p>
<ul>
<li>AWS ECS (Fargate hoặc EC2 launch type), hoặc</li>
<li>EKS (Kubernetes) nếu bạn đã có.</li>
</ul>
</li>
<li>
<p>Storage trên:</p>
<ul>
<li>EBS volume hoặc</li>
<li>S3 (nếu broker hỗ trợ) hoặc</li>
<li>internal DB, tùy thuộc vào broker implementation.</li>
</ul>
</li>
<li>
<p><strong>PayloadCMS</strong></p>
</li>
<li>
<p>Chạy như một container trên ECS/EKS.</p>
</li>
<li>
<p>Database trên:</p>
<ul>
<li>Amazon RDS (PostgreSQL hoặc MySQL) hoặc</li>
<li>Amazon DocumentDB / Mongo-compatible service.</li>
</ul>
</li>
<li>
<p><strong>Proxy / API layer</strong></p>
</li>
<li>
<p>Chạy như một container trên ECS/EKS.</p>
</li>
<li>
<p>Tùy chọn được fronted bởi:</p>
<ul>
<li>Application Load Balancer (ALB) hoặc</li>
<li>API Gateway + Lambda nếu được rewrite.</li>
</ul>
</li>
<li>
<p><strong>Dashboard (Next.js + Mapbox)</strong><br />
  Options:</p>
</li>
<li>
<p>build như static assets và host trên:</p>
<ul>
<li>S3 + CloudFront,<br />
  HOẶC</li>
</ul>
</li>
<li>
<p>chạy như một container trên ECS/EKS phía sau ALB nếu cần server-side rendering.</p>
</li>
<li>
<p><strong>Update servers</strong></p>
</li>
<li>
<p>Chạy như:</p>
<ul>
<li>ECS services (long-running tasks), hoặc</li>
<li>ECS scheduled tasks (cron-like), hoặc</li>
<li>Lambda functions (nếu implemented serverless).</li>
</ul>
</li>
<li>
<p><strong>Networking &amp; ingress</strong></p>
</li>
<li>
<p>VPC với public và private subnets,</p>
</li>
<li>ALB trong public subnets routing tới ECS services trong private subnets,</li>
<li>
<p>security groups controlling traffic.</p>
</li>
<li>
<p><strong>Configuration &amp; secrets</strong></p>
</li>
<li>
<p>AWS Systems Manager Parameter Store hoặc Secrets Manager cho:</p>
<ul>
<li>broker write keys,</li>
<li>DB credentials,</li>
<li>external API keys.</li>
</ul>
</li>
<li>
<p><strong>Monitoring &amp; logs</strong></p>
</li>
<li>CloudWatch Logs cho container logs,</li>
<li>CloudWatch metrics và alarms.</li>
</ul>
<hr />
<h2 id="environments-dev-va-prod">Environments: dev và prod</h2>
<p>Ở mức tối thiểu, bạn nên định nghĩa:</p>
<ul>
<li>
<p>một <strong>development</strong> environment:</p>
</li>
<li>
<p>ECS services nhỏ hơn,</p>
</li>
<li>RDS instance nhỏ hơn,</li>
<li>restricted access (chỉ internal users),</li>
<li>
<p>được sử dụng để test blocks mới, map views và update servers.</p>
</li>
<li>
<p>một <strong>production</strong> environment:</p>
</li>
<li>scaled versions của cùng các components,</li>
<li>stricter access controls,</li>
<li>visible cho end users.</li>
</ul>
<p>Bạn có thể implement điều này bằng:</p>
<ul>
<li>các AWS accounts riêng biệt (preferred trong các orgs lớn hơn), hoặc</li>
<li>các VPCs và ECS clusters riêng biệt trong cùng một account, hoặc</li>
<li>ít nhất các ECS services, RDS instances và Parameter Store paths riêng biệt với prefixes (ví dụ <code>/legocity/dev/...</code> vs <code>/legocity/prod/...</code>).</li>
</ul>
<p>Tài liệu này giả định các <strong>dev</strong> và <strong>prod</strong> ECS services và RDS instances riêng biệt bên trong cùng một account, với configuration được phân tách bằng Parameter Store prefixes.</p>
<hr />
<h2 id="container-images-va-registries">Container images và registries</h2>
<p>Tất cả các components của LegoCity chạy như containers cần images:</p>
<ul>
<li>broker image (official hoặc custom),</li>
<li>PayloadCMS image,</li>
<li>proxy image,</li>
<li>dashboard image (nếu không purely static),</li>
<li>update server images.</li>
</ul>
<p>Workflow:</p>
<ol>
<li>Build images locally hoặc trong CI.</li>
<li>Push images tới <strong>Amazon ECR</strong> (Elastic Container Registry).</li>
<li>Configure ECS services để sử dụng các images này by tag.</li>
</ol>
<p>Patterns được khuyến nghị:</p>
<ul>
<li>sử dụng ECR repositories riêng biệt per service:</li>
<li><code>legocity-broker</code>,</li>
<li><code>legocity-payload</code>,</li>
<li><code>legocity-proxy</code>,</li>
<li><code>legocity-dashboard</code>,</li>
<li><code>legocity-update-env</code>, v.v.</li>
<li>sử dụng semantic tags hoặc ít nhất:</li>
<li><code>dev-&lt;short-sha&gt;</code> cho dev,</li>
<li><code>prod-&lt;short-sha&gt;</code> cho prod.</li>
</ul>
<hr />
<h2 id="network-va-vpc-layout">Network và VPC layout</h2>
<p>Một minimal network layout phổ biến:</p>
<ul>
<li>một VPC với:</li>
<li>public subnets (cho ALB),</li>
<li>private subnets (cho ECS tasks và RDS).</li>
</ul>
<p>Components:</p>
<ul>
<li>
<p><strong>ALB</strong> trong public subnets:</p>
</li>
<li>
<p>nhận HTTPS traffic từ internet,</p>
</li>
<li>terminates TLS (ACM certificates),</li>
<li>
<p>forwards tới ECS target groups.</p>
</li>
<li>
<p><strong>ECS services</strong> trong private subnets:</p>
</li>
<li>
<p>broker (chỉ cho internal access),</p>
</li>
<li>proxy,</li>
<li>PayloadCMS,</li>
<li>Next.js (nếu SSR),</li>
<li>
<p>update servers.</p>
</li>
<li>
<p><strong>RDS</strong> trong private subnets:</p>
</li>
<li>chỉ accessible từ ECS tasks qua security groups.</li>
</ul>
<p>Security groups:</p>
<ul>
<li>một SG cho ALB (ingress 80/443 từ internet),</li>
<li>một SG cho ECS tasks (ingress từ ALB SG và từ internal SGs khác),</li>
<li>một SG cho RDS (ingress từ ECS SG only),</li>
<li>optional SGs cho broker nếu muốn restrict ECS services nào có thể call nó.</li>
</ul>
<hr />
<h2 id="minimal-architecture-pattern">Minimal architecture pattern</h2>
<p>Cho một minimal nhưng structured setup:</p>
<ul>
<li>
<p><strong>ECS Cluster: <code>legocity-cluster</code></strong></p>
</li>
<li>
<p>chạy tất cả services như ECS services với Fargate.</p>
</li>
<li>
<p><strong>Services:</strong></p>
</li>
<li>
<p><code>legocity-broker-service</code> (Fargate, private subnets, no public IP),</p>
</li>
<li><code>legocity-payload-service</code> (Fargate, private, behind ALB),</li>
<li><code>legocity-proxy-service</code> (Fargate, private, behind ALB),</li>
<li><code>legocity-dashboard-service</code> (Fargate, private, behind ALB)<br />
    (skip nếu host dashboard trên S3+CloudFront),</li>
<li>
<p><code>legocity-update-env-service</code> (Fargate, private, no ALB, long-running / scheduled).</p>
</li>
<li>
<p><strong>RDS:</strong></p>
</li>
<li>
<p><code>legocity-payload-db</code> – PostgreSQL hoặc MySQL,</p>
</li>
<li>
<p>security group chỉ allowing connections từ ECS tasks.</p>
</li>
<li>
<p><strong>ALB:</strong></p>
</li>
<li>
<p>listeners trên 80/443, redirect 80 → 443,</p>
</li>
<li>
<p>target groups:</p>
<ul>
<li><code>/admin</code> → PayloadCMS,</li>
<li><code>/api</code> → proxy,</li>
<li><code>/</code> → dashboard.</li>
</ul>
</li>
<li>
<p><strong>S3 + CloudFront (optional nhưng recommended cho Next.js static build):</strong></p>
</li>
<li>S3 bucket cho static assets,</li>
<li>CloudFront distribution fronting bucket,</li>
<li>API requests được routed tới ALB.</li>
</ul>
<hr />
<h2 id="configuration-va-secrets-tren-aws">Configuration và secrets trên AWS</h2>
<p>Sử dụng <strong>SSM Parameter Store</strong> hoặc <strong>Secrets Manager</strong> cho configuration, không phải hard-coded environment variables trong ECS task definitions.</p>
<p>Ví dụ về Parameter Store paths:</p>
<ul>
<li><code>/legocity/dev/broker/url</code></li>
<li><code>/legocity/dev/broker/write-key/env</code></li>
<li><code>/legocity/dev/payload/db-url</code></li>
<li>
<p><code>/legocity/dev/external/weather/api-key</code></p>
</li>
<li>
<p><code>/legocity/prod/broker/url</code></p>
</li>
<li><code>/legocity/prod/broker/write-key/env</code></li>
<li><code>/legocity/prod/payload/db-url</code></li>
<li><code>/legocity/prod/external/weather/api-key</code></li>
</ul>
<p>Mỗi ECS task:</p>
<ul>
<li>obtains config của nó at runtime qua environment variables,</li>
<li>environment values có thể được pulled từ SSM parameters by name.</li>
</ul>
<p>Basic pattern:</p>
<ul>
<li>TASK_DEF env:</li>
<li><code>BROKER_URL</code> ← SSM <code>/legocity/prod/broker/url</code></li>
<li><code>BROKER_WRITE_KEY</code> ← SSM <code>/legocity/prod/broker/write-key/env</code></li>
<li><code>PAYLOAD_DB_URL</code> ← SSM <code>/legocity/prod/payload/db-url</code></li>
<li><code>WEATHER_API_KEY</code> ← SSM <code>/legocity/prod/external/weather/api-key</code></li>
</ul>
<p>Grant ECS task role permission để read các specific parameter paths cần thiết.</p>
<hr />
<h2 id="step-by-step-skeleton-first-production-like-deployment">Step-by-step skeleton: first production-like deployment</h2>
<p>Đây là một <strong>skeleton sequence</strong> cho việc set up một first production-like environment. Chi tiết phụ thuộc vào chosen tools của bạn (console vs IaC), nhưng thứ tự cần rõ ràng.</p>
<h3 id="1-prepare-vpc-va-networking">1. Prepare VPC và networking</h3>
<ul>
<li>
<p>Create một VPC (hoặc reuse một VPC hiện có) với:</p>
</li>
<li>
<p>ít nhất hai public subnets (trong different AZs),</p>
</li>
<li>ít nhất hai private subnets (trong different AZs),</li>
<li>một Internet Gateway,</li>
<li>
<p>NAT Gateway(s) cho private subnets (để ECS tasks có thể fetch images, call external APIs).</p>
</li>
<li>
<p>Create security groups:</p>
</li>
<li><code>sg-alb</code>:<ul>
<li>ingress: 80/443 từ internet,</li>
<li>egress: tới ECS SG.</li>
</ul>
</li>
<li><code>sg-ecs</code>:<ul>
<li>ingress: từ <code>sg-alb</code> trên app ports,</li>
<li>ingress: từ chính nó nếu services call nhau,</li>
<li>egress: tới <code>sg-rds</code>, internet qua NAT.</li>
</ul>
</li>
<li><code>sg-rds</code>:<ul>
<li>ingress: từ <code>sg-ecs</code> trên DB port (ví dụ 5432).</li>
</ul>
</li>
</ul>
<h3 id="2-create-rds-cho-payloadcms">2. Create RDS cho PayloadCMS</h3>
<ul>
<li>Choose engine: PostgreSQL hoặc MySQL.</li>
<li>Deploy <code>legocity-payload-db</code> vào private subnets với <code>sg-rds</code>.</li>
<li>Configure:</li>
<li>DB name, user, password,</li>
<li>backup retention, automated backups.</li>
<li>Đảm bảo ECS tasks có thể resolve và connect qua DB endpoint.</li>
</ul>
<h3 id="3-create-ecr-repositories-va-push-images">3. Create ECR repositories và push images</h3>
<p>Cho mỗi component:</p>
<ul>
<li>create một ECR repo (ví dụ <code>legocity-payload</code>),</li>
<li>build image và push:</li>
<li><code>dev</code> tag cho dev,</li>
<li><code>prod</code> tag cho prod.</li>
</ul>
<p>Làm điều này cho:</p>
<ul>
<li>broker,</li>
<li>PayloadCMS,</li>
<li>proxy,</li>
<li>dashboard (nếu container-based),</li>
<li>ít nhất một update server.</li>
</ul>
<h3 id="4-configure-ssm-parameters-cho-configuration">4. Configure SSM parameters cho configuration</h3>
<p>Create parameters cho prod environment:</p>
<ul>
<li><code>/legocity/prod/broker/url</code></li>
<li><code>/legocity/prod/broker/write-key/env</code></li>
<li><code>/legocity/prod/payload/db-url</code></li>
<li><code>/legocity/prod/external/weather/api-key</code></li>
<li>bất kỳ others cần bởi proxy và update servers.</li>
</ul>
<p>Store sensitive values như <strong>SecureString</strong>.</p>
<h3 id="5-create-ecs-cluster-va-task-definitions">5. Create ECS cluster và task definitions</h3>
<ul>
<li>Create <code>legocity-cluster</code>.</li>
<li>Cho mỗi service, define một task definition:</li>
<li>container image từ ECR,</li>
<li>CPU/memory limits,</li>
<li>environment variables referencing SSM parameters,</li>
<li>logging tới CloudWatch Logs,</li>
<li>port mappings.</li>
</ul>
<p>Services:</p>
<ul>
<li>
<p><code>broker-task</code> / <code>broker-service</code>:</p>
</li>
<li>
<p>desired count: 1 (để start),</p>
</li>
<li>private subnets, <code>sg-ecs</code>,</li>
<li>no public IP,</li>
<li>
<p>no ALB (internal only).</p>
</li>
<li>
<p><code>payload-task</code> / <code>payload-service</code>:</p>
</li>
<li>
<p>desired count: 1,</p>
</li>
<li>private subnets, <code>sg-ecs</code>,</li>
<li>
<p>ALB target group (HTTP port, ví dụ 3000).</p>
</li>
<li>
<p><code>proxy-task</code> / <code>proxy-service</code>:</p>
</li>
<li>
<p>similar to payload, với ALB target group (HTTP port, ví dụ 4000).</p>
</li>
<li>
<p><code>dashboard-task</code> / <code>dashboard-service</code> (nếu container-based):</p>
</li>
<li>
<p>ALB target group (HTTP port, ví dụ 3001).</p>
</li>
<li>
<p><code>update-env-task</code> / <code>update-env-service</code>:</p>
</li>
<li>no ALB,</li>
<li>private subnets, <code>sg-ecs</code>,</li>
<li><code>desiredCount = 1</code> (long-running) hoặc scheduled task.</li>
</ul>
<h3 id="6-create-va-configure-application-load-balancer">6. Create và configure Application Load Balancer</h3>
<ul>
<li>Create một ALB trong public subnets với <code>sg-alb</code>.</li>
<li>
<p>Create target groups:</p>
</li>
<li>
<p><code>tg-payload</code> → ECS tasks (payload),</p>
</li>
<li><code>tg-proxy</code> → ECS tasks (proxy),</li>
<li>
<p><code>tg-dashboard</code> → ECS tasks (dashboard) nếu applicable.</p>
</li>
<li>
<p>Configure listeners:</p>
</li>
<li>
<p>HTTP (80) → redirect tới HTTPS (443),</p>
</li>
<li>
<p>HTTPS (443):</p>
<ul>
<li>path <code>/admin*</code> → <code>tg-payload</code>,</li>
<li>path <code>/api*</code> → <code>tg-proxy</code>,</li>
<li>path <code>/</code> → <code>tg-dashboard</code> (hoặc CloudFront nếu sử dụng static hosting).</li>
</ul>
</li>
<li>
<p>Attach một ACM certificate cho domain(s) của bạn.</p>
</li>
</ul>
<h3 id="7-dns-va-domains">7. DNS và domains</h3>
<p>Sử dụng Route 53 (hoặc DNS provider khác) để:</p>
<ul>
<li>point <code>city.example</code> hoặc <code>dashboard.city.example</code> tới ALB,</li>
<li>point <code>admin.city.example</code> tới cùng ALB nếu muốn một host riêng cho PayloadCMS admin.</li>
</ul>
<p>Check:</p>
<ul>
<li>HTTP(S) routing,</li>
<li>TLS configuration,</li>
<li>rằng PayloadCMS và dashboard load correctly.</li>
</ul>
<h3 id="8-verify-data-flow">8. Verify data flow</h3>
<p>Sau khi services đang chạy:</p>
<ul>
<li>
<p>confirm broker health:</p>
</li>
<li>
<p>từ một ECS task hoặc một bastion host, call broker's NGSI-LD endpoint.</p>
</li>
<li>
<p>confirm PayloadCMS connects tới RDS:</p>
</li>
<li>
<p>complete bất kỳ initial admin setup,</p>
</li>
<li>
<p>log in tới admin UI.</p>
</li>
<li>
<p>confirm update servers write entities:</p>
</li>
<li>
<p>check update server logs trong CloudWatch,</p>
</li>
<li>
<p>query broker cho <code>WeatherObserved</code> hoặc các entities khác.</p>
</li>
<li>
<p>confirm proxy returns data:</p>
</li>
<li>
<p>call <code>/api/...</code> endpoints qua ALB,</p>
</li>
<li>
<p>check rằng responses reflect entities trong broker.</p>
</li>
<li>
<p>confirm dashboard shows data:</p>
</li>
<li>open dashboard URL,</li>
<li>check map layers và widgets cho live entities.</li>
</ul>
<hr />
<h2 id="monitoring-va-logging">Monitoring và logging</h2>
<p>Sử dụng <strong>CloudWatch Logs</strong> và <strong>CloudWatch metrics</strong>:</p>
<ul>
<li>
<p>send logs từ ECS tasks tới CloudWatch Log Groups:</p>
</li>
<li>
<p>một log group per service thường đủ.</p>
</li>
<li>
<p>define CloudWatch alarms cho:</p>
</li>
<li>ECS service không reaching desired count,</li>
<li>high CPU/memory usage,</li>
<li>RDS storage hoặc CPU thresholds,</li>
<li>broker hoặc proxy health check failures.</li>
</ul>
<p>Optional:</p>
<ul>
<li>integrate với email/Slack/other qua SNS cho alerts,</li>
<li>sử dụng AWS X-Ray hoặc similar cho deeper request tracing nếu cần.</li>
</ul>
<hr />
<h2 id="backups-va-restoration">Backups và restoration</h2>
<p>Primary stateful components:</p>
<ul>
<li>
<p><strong>RDS (PayloadCMS DB)</strong>:</p>
</li>
<li>
<p>configure automatic backups,</p>
</li>
<li>enable point-in-time recovery nếu cần,</li>
<li>
<p>create manual snapshots trước major changes.</p>
</li>
<li>
<p><strong>Broker storage</strong>:</p>
</li>
<li>
<p>nếu broker keeps state trên disk:</p>
<ul>
<li>sử dụng EBS snapshots,</li>
<li>hoặc export entities periodically.</li>
</ul>
</li>
<li>
<p><strong>Configuration</strong>:</p>
</li>
<li>SSM parameters và service definitions là một phần của infrastructure-as-code hoặc documented procedures.</li>
</ul>
<p>Restoration drills:</p>
<ul>
<li>periodically restore RDS tới một test instance,</li>
<li>verify PayloadCMS có thể connect và data nhất quán.</li>
</ul>
<hr />
<h2 id="updating-services">Updating services</h2>
<p>Để deploy versions mới của LegoCity components:</p>
<ol>
<li>Build và push images mới tới ECR.</li>
<li>Update ECS task definitions để reference image tags mới.</li>
<li>Deploy task definitions mới tới corresponding services:</li>
<li>qua ECS rolling update,</li>
<li>hoặc sử dụng deployment pipelines.</li>
</ol>
<p>Thứ tự updates:</p>
<ul>
<li>update non-critical components trước (dashboard),</li>
<li>sau đó proxy và update servers,</li>
<li>cuối cùng broker và PayloadCMS (trong một maintenance window nếu schema changes).</li>
</ul>
<p>Đảm bảo:</p>
<ul>
<li>backward compatibility khi có thể,</li>
<li>rằng configuration (SSM parameters) matches expected schema của versions mới.</li>
</ul>
<hr />
<h2 id="cost-va-resource-considerations">Cost và resource considerations</h2>
<p>Rough cost drivers trên AWS:</p>
<ul>
<li>ECS tasks (CPU/memory) cho broker, PayloadCMS, proxy, dashboard và update servers,</li>
<li>RDS instance size và storage,</li>
<li>ALB và data transfer,</li>
<li>S3 và CloudFront (nếu sử dụng),</li>
<li>NAT gateway (có thể non-trivial cho low-traffic deployments).</li>
</ul>
<p>Để control costs:</p>
<ul>
<li>start với small Fargate task sizes (ví dụ 0.25 vCPU / 0.5–1 GB RAM),</li>
<li>choose một small RDS instance cho dev và một moderate one cho prod,</li>
<li>scale task counts và sizes khi usage grows,</li>
<li>consider turning off non-essential update servers trong dev khi không sử dụng.</li>
</ul>
<hr />
<h2 id="tom-tat">Tóm tắt</h2>
<ul>
<li>Trên AWS, các components của LegoCity ánh xạ cleanly tới ECS/EKS, RDS, ALB, S3/CloudFront và các supporting services như SSM và CloudWatch.</li>
<li>Một minimal architecture sử dụng một ECS cluster trong một VPC, RDS cho PayloadCMS, Fargate services cho broker, PayloadCMS, proxy, dashboard, và update servers, cộng một ALB cho ingress.</li>
<li>Configuration và secrets nên được stored trong SSM Parameter Store hoặc Secrets Manager và injected vào ECS tasks at runtime.</li>
<li>Một staged deployment (dev + prod) với các SSM prefixes và ECS services riêng biệt giúp control changes và risk.</li>
<li>Maintenance requires regular monitoring (CloudWatch), backups (RDS snapshots, broker storage), và controlled rolling updates qua ECS.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Trở lại mục lục
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u0110\u00e3 sao ch\u00e9p", "clipboard.copy": "Sao ch\u00e9p v\u00e0o b\u1ed9 nh\u1edb t\u1ea1m", "search.result.more.one": "1 t\u1eeb kh\u00e1c trong trang", "search.result.more.other": "# t\u1eeb kh\u00e1c trong trang", "search.result.none": "Kh\u00f4ng t\u00ecm th\u1ea5y t\u00e0i li\u1ec7u li\u00ean quan", "search.result.one": "1 t\u00e0i li\u1ec7u li\u00ean quan", "search.result.other": "# t\u00e0i li\u1ec7u li\u00ean quan", "search.result.placeholder": "Nh\u1eadp \u0111\u1ec3 b\u1eaft \u0111\u1ea7u t\u00ecm ki\u1ebfm", "search.result.term.missing": "Kh\u00f4ng", "select.version": "Ch\u1ecdn phi\u00ean b\u1ea3n"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>